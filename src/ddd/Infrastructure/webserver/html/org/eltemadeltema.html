<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>El tema del tema: KISS con Web Components</title>
    <style>
        :root {
            --act1: #222226;
            --act2: #5d4d7a;
            --base: #b2b2b2;
            --base-dim: #686868;
            --bg1: #292b2e;
            --bg2: #212026;
            --bg3: #100a14;
            --bg4: #0a0814;
            --bg-alt: #42444a;
            --border: #5d4d7a;
            --cblk: #cbc1d5;
            --cblk-bg: #2f2b33;
            --cblk-ln: #827591;
            --cblk-ln-bg: #373040;
            --cursor: #e3dedd;
            --const: #a45bad;
            --comment: #2aa1ae;
            --comment-light: #2aa1ae;
            --comment-bg: #292e34;
            --comp: #c56ec3;
            --err: #e0211d;
            --func: #bc6ec5;
            --head1: #4f97d7;
            --head1-bg: #293239;
            --head2: #2d9574;
            --head2-bg: #293235;
            --head3: #67b11d;
            --head3-bg: #293235;
            --head4: #b1951d;
            --head4-bg: #32322c;
            --highlight: #444155;
            --highlight-dim: #3b314d;
            --keyword: #4f97d7;
            --lnum: #44505c;
            --mat: #86dc2f;
            --meta: #9f8766;
            --str: #2d9574;
            --suc: #86dc2f;
            --ttip: #9a9aba;
            --ttip-sl: #5e5079;
            --ttip-bg: #34323e;
            --type: #ce537a;
            --var: #7590db;
            --war: #dc752f;
            --aqua: #2d9574;
            --aqua-bg: #293235;
            --green: #67b11d;
            --green-bg: #293235;
            --green-bg-s: #29422d;
            --cyan: #28def0;
            --red: #f2241f;
            --red-bg: #3c2a2c;
            --red-bg-s: #512e31;
            --blue: #4f97d7;
            --blue-bg: #293239;
            --blue-bg-s: #2d4252;
            --magenta: #a31db1;
            --yellow: #b1951d;
            --yellow-bg: #32322c;
        }

        html {
            font-size: 16px;
            box-sizing: border-box;
        }

        *, *:before, *:after {
            box-sizing: inherit;
        }

        body {
            background-color: var(--bg1);
            color: var(--base);
            font-family: Arial, sans-serif;
            line-height: 1.6;
            margin: 0;
            font-size: 1rem;
            padding: 60px 0 0;
        }

        h1, h2, h3, h4, h5, h6 {
            color: var(--head1);
            font-weight: bold;
            margin-top: 1.5rem;
            margin-bottom: 1rem;
            line-height: 1.2;
        }

        h1 { font-size: 1.8rem; background-color: var(--head1-bg); padding: 0.625rem; border-radius: 0.3125rem; }
        h2 { font-size: 1.6rem; color: var(--head2); background-color: var(--head2-bg); padding: 0.5rem; border-radius: 0.25rem; }
        h3 { font-size: 1.4rem; color: var(--head3); background-color: var(--head3-bg); padding: 0.375rem; border-radius: 0.1875rem; }
        h4 { font-size: 1.2rem; color: var(--head4); background-color: var(--head4-bg); padding: 0.25rem; border-radius: 0.125rem; }

        a { color: var(--blue); text-decoration: none; }
        a:hover { text-decoration: underline; }

        p { margin-bottom: 1rem; }

        ul, ol { margin-bottom: 1rem; padding-left: 1.25rem; }
        li { margin-bottom: 0.3125rem; }

        code {
            color: var(--type);
            padding: 0.125rem 0.25rem;
            border-radius: 0.1875rem;
            font-size: 0.875rem;
            font-family: 'Courier New', Courier, monospace;
        }

        blockquote {
            border-left: 0.25rem solid var(--green);
            margin-left: 0;
            padding-left: 0.625rem;
            color: var(--comment);
            font-style: italic;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            margin-bottom: 1.25rem;
            overflow-x: auto;
            display: block;
        }

        th, td {
            padding: 0.5rem;
            border: 1px solid var(--border);
            min-width: 100px;
        }

        th {
            background-color: var(--bg2);
            color: var(--base);
            font-weight: bold;
        }

        img {
            max-width: 100%;
            height: auto;
            margin-bottom: 1rem;
        }

        .site-header {
            background-color: var(--bg2);
            box-shadow: 0 0.125rem 0.3125rem rgba(0, 0, 0, 0.1);
            padding: 0.3125rem 0;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            z-index: 1000;
            height: 50px;
            width: 100%;
        }

        .header-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
            max-width: 100%;
            margin: 0 auto;
            padding: 0 0.5rem;
            height: 100%;
        }

        .site-header a {
            color: var(--blue);
            text-decoration: none;
            font-size: 1rem;
            font-weight: bold;
        }

        .main-container {
            display: flex;
            flex-direction: column;
            max-width: 100%;
            margin: 1rem auto 0;
            padding: 0 0.5rem;
        }

        .table-of-contents {
            background-color: var(--bg3);
            padding: 0.9375rem;
            border-radius: 0.3125rem;
            margin-bottom: 1rem;
            width: 100%;
        }

        .table-of-contents h2 {
            margin-top: 0;
            font-size: 1.5rem;
        }

        .table-of-contents ul {
            list-style-type: none;
            padding-left: 1.25rem;
        }

        .table-of-contents li {
            margin-bottom: 0.3125rem;
        }

        .table-of-contents a {
            color: var(--blue);
            text-decoration: none;
            font-size: 0.9375rem;
        }

        .table-of-contents a:hover {
            text-decoration: underline;
        }

        .content {
            background-color: var(--bg2);
            padding: 0.625rem;
            border-radius: 0.5rem;
        }

        pre {
            border-radius: 0.3125rem;
            overflow-x: auto;
            color: var(--cblk);
            padding: 0.625rem;
            font-size: 0.875rem;
            background-color: var(--bg3);
            white-space: pre-wrap;
            word-wrap: break-word;
        }

        .sourceCode .kw { color: var(--keyword); }
        .sourceCode .dt { color: var(--type); }
        .sourceCode .dv, .sourceCode .bn, .sourceCode .fl { color: var(--const); }
        .sourceCode .ch, .sourceCode .st { color: var(--str); }
        .sourceCode .co, .sourceCode .do, .sourceCode .an, .sourceCode .cv, .sourceCode .in { color: var(--comment); font-style: italic; }
        .sourceCode .ot, .sourceCode .fu, .sourceCode .ex { color: var(--func); }
        .sourceCode .al, .sourceCode .er { color: var(--err); }
        .sourceCode .va { color: var(--var); }
        .sourceCode .cf { color: var(--keyword); }
        .sourceCode .op, .sourceCode .bu { color: var(--base); }
        .sourceCode .pp { color: var(--meta); }
        .sourceCode .at { color: var(--var); }

        /* allways show this button */
        theme-toggler {
            position: fixed;
            bottom: 1rem;
            right: 1rem;
            z-index: 2;
        }

        @media (min-width: 48em) {
            html { font-size: 18px; }

            body {
                padding: 60px 0 0;
            }

            .site-header {
                height: 60px;
            }

            .site-header a {
                font-size: 1.25rem;
            }

            .header-content, .main-container {
                max-width: calc(15.625rem + 50rem);
                padding: 0 1rem;
            }

            .main-container {
                flex-direction: row;
                justify-content: flex-start;
                align-items: flex-start;
            }

            .table-of-contents {
                position: sticky;
                top: 70px;
                height: calc(100vh - 70px);
                overflow-y: auto;
                width: 15.625rem;
                margin-right: 1.25rem;
                flex-shrink: 0;
            }

            .content {
                flex-grow: 1;
                overflow-y: auto;
                padding: 1.25rem;
            }
        }
    </style>
    <script type="module" src="../../html/js/atomic/organism/ThemeToogler.js"></script>
    <script type="module" src="../../html/js/atomic/molecule/PortfolioHeader.js"></script>
</head>
<body>
<portfolio-header> </portfolio-header>
<theme-toggler></theme-toggler>
<div class="main-container">
        <nav class="table-of-contents">
        <h2>Tabla de Contenidos</h2>
        <ul>
        <li><a href="#el-problema-cuando-los-colores-se-vuelven-un-caos"
        id="toc-el-problema-cuando-los-colores-se-vuelven-un-caos">El
        problema: Cuando los colores se vuelven un caos</a></li>
        <li><a
        href="#la-solución-simpleza-y-elegancia-con-web-components"
        id="toc-la-solución-simpleza-y-elegancia-con-web-components">La
        solución: Simpleza y elegancia con Web Components</a></li>
        <li><a href="#que-ventajas-tiene-esta-solución"
        id="toc-que-ventajas-tiene-esta-solución">Que ventajas tiene
        esta solución?</a></li>
        <li><a href="#reflexiones-finales-el-poder-de-pensar-diferente"
        id="toc-reflexiones-finales-el-poder-de-pensar-diferente">Reflexiones
        finales: El poder de pensar diferente</a></li>
        <li><a href="#próximos-pasos" id="toc-próximos-pasos"><span
        class="todo TODO">TODO</span> Próximos pasos</a></li>
        <li><a href="#cómo-lo-he-integrado"
        id="toc-cómo-lo-he-integrado">¿ Cómo lo he integrado ?</a></li>
        <li><a href="#que-permite-esto-que-hemos-conseguido"
        id="toc-que-permite-esto-que-hemos-conseguido">¿Que permite esto
        que hemos conseguido?</a></li>
        <li><a href="#conclusión"
        id="toc-conclusión">Conclusión</a></li>
        </ul>
    </nav>
    
    <div class="content">
        <header>
            <h1>El tema del tema: KISS con Web Components</h1>
            
        </header>

        <p>¡Hola geeks! ¿Alguna vez os habéis encontrado luchando con la
        gestión de temas de colores en vuestros proyectos web? Si es
        así, ¡no estáis solos! Este quebradero de cabeza es tan común
        como frustrante. Pero no temáis, porque hoy vamos a sumergirnos
        en una solución que, aunque simple, es sorprendentemente
        efectiva.</p>
        <h2 id="el-problema-cuando-los-colores-se-vuelven-un-caos">El
        problema: Cuando los colores se vuelven un caos</h2>
        <p>Imaginad que estáis construyendo una aplicación web compleja.
        Tenéis decenas, quizás cientos de componentes. Botones,
        formularios, paneles, modales… y todos necesitan seguir un
        esquema de colores coherente. Ahora, añadid a eso la necesidad
        de tener múltiples temas (modo claro, modo oscuro, ¡tal vez
        incluso un modo "disco" para los viernes por la noche!). De
        repente, lo que parecía un simple juego de colores se convierte
        en un problema logístico de proporciones épicas.</p>
        <p>Tradicionalmente, muchos desarrolladores han recurrido a
        soluciones como:</p>
        <ol>
        <li>Clases CSS gigantes que definen cada color para cada
        elemento.</li>
        <li>Preprocesadores CSS con variables que se compilan en
        diferentes hojas de estilo.</li>
        <li>Bibliotecas de JavaScript que manipulan dinámicamente los
        estilos.</li>
        </ol>
        <p>Pero cada una de estas soluciones tiene sus propios
        problemas. Las clases CSS se vuelven inmanejables, los
        preprocesadores requieren una compilación adicional, y las
        bibliotecas de JavaScript pueden ser pesadas y afectar el
        rendimiento.</p>
        <h2 id="la-solución-simpleza-y-elegancia-con-web-components">La
        solución: Simpleza y elegancia con Web Components</h2>
        <p>Entonces, ¿qué hacemos? Bueno, en mi caso, como estoy usando
        Web Components personalizados (porque soy mas bien de backend y
        me gusta explorar tecnologías del front ), se me ocurrió una
        idea: ¿Y si usamos las propias capacidades del navegador para
        manejar nuestros temas?</p>
        <p>Así nació mi solución, que se basa en tres principios
        simples:</p>
        <ol>
        <li>Un componente "core" que define todas las variables de
        color.</li>
        <li>Variables CSS a nivel :root que todos los componentes pueden
        usar.</li>
        <li>Componentes individuales que son "agnósticos" respecto al
        color real que están usando.</li>
        </ol>
        <p>Suena simple, ¿verdad? Pero como dicen, la belleza está en la
        simplicidad. Veamos cómo funciona esto en la práctica.</p>
        <h3 id="el-componente-core-themeswitcher">El componente "core":
        ThemeSwitcher</h3>
        <p>Este es el corazón de nuestra solución. Es un Web Component
        que se encarga de definir y aplicar nuestro tema de colores.
        Aquí tenéis un vistazo rápido a cómo podría verse:</p>
        <div class="sourceCode" id="cb1"><pre
        class="sourceCode javascript"><code class="sourceCode javascript"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> ThemeSwitcher <span class="kw">extends</span> <span class="bu">HTMLElement</span> {</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">constructor</span>() {</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a>        <span class="kw">super</span>()<span class="op">;</span></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a>        <span class="kw">this</span><span class="op">.</span><span class="at">themes</span> <span class="op">=</span> {</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a>            <span class="st">&#39;light&#39;</span><span class="op">:</span> {</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a>                <span class="st">&#39;--primary-color&#39;</span><span class="op">:</span> <span class="st">&#39;#4a90e2&#39;</span><span class="op">,</span></span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a>                <span class="st">&#39;--background-color&#39;</span><span class="op">:</span> <span class="st">&#39;#f4f4f4&#39;</span><span class="op">,</span></span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a>                <span class="co">// ... más colores ...</span></span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a>            }<span class="op">,</span></span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a>            <span class="st">&#39;dark&#39;</span><span class="op">:</span> {</span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a>                <span class="st">&#39;--primary-color&#39;</span><span class="op">:</span> <span class="st">&#39;#bb86fc&#39;</span><span class="op">,</span></span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a>                <span class="st">&#39;--background-color&#39;</span><span class="op">:</span> <span class="st">&#39;#121212&#39;</span><span class="op">,</span></span>
<span id="cb1-13"><a href="#cb1-13" aria-hidden="true" tabindex="-1"></a>                <span class="co">// ... más colores ...</span></span>
<span id="cb1-14"><a href="#cb1-14" aria-hidden="true" tabindex="-1"></a>            }</span>
<span id="cb1-15"><a href="#cb1-15" aria-hidden="true" tabindex="-1"></a>        }<span class="op">;</span></span>
<span id="cb1-16"><a href="#cb1-16" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb1-17"><a href="#cb1-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-18"><a href="#cb1-18" aria-hidden="true" tabindex="-1"></a>    <span class="fu">connectedCallback</span>() {</span>
<span id="cb1-19"><a href="#cb1-19" aria-hidden="true" tabindex="-1"></a>        <span class="kw">this</span><span class="op">.</span><span class="fu">applyTheme</span>(<span class="st">&#39;light&#39;</span>)<span class="op">;</span> <span class="co">// Tema por defecto</span></span>
<span id="cb1-20"><a href="#cb1-20" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb1-21"><a href="#cb1-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-22"><a href="#cb1-22" aria-hidden="true" tabindex="-1"></a>    <span class="fu">applyTheme</span>(themeName) {</span>
<span id="cb1-23"><a href="#cb1-23" aria-hidden="true" tabindex="-1"></a>        <span class="kw">const</span> theme <span class="op">=</span> <span class="kw">this</span><span class="op">.</span><span class="at">themes</span>[themeName]<span class="op">;</span></span>
<span id="cb1-24"><a href="#cb1-24" aria-hidden="true" tabindex="-1"></a>        <span class="bu">Object</span><span class="op">.</span><span class="fu">entries</span>(theme)<span class="op">.</span><span class="fu">forEach</span>(([property<span class="op">,</span> value]) <span class="kw">=&gt;</span> {</span>
<span id="cb1-25"><a href="#cb1-25" aria-hidden="true" tabindex="-1"></a>            <span class="bu">document</span><span class="op">.</span><span class="at">documentElement</span><span class="op">.</span><span class="at">style</span><span class="op">.</span><span class="fu">setProperty</span>(property<span class="op">,</span> value)<span class="op">;</span></span>
<span id="cb1-26"><a href="#cb1-26" aria-hidden="true" tabindex="-1"></a>        })<span class="op">;</span></span>
<span id="cb1-27"><a href="#cb1-27" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb1-28"><a href="#cb1-28" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb1-29"><a href="#cb1-29" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-30"><a href="#cb1-30" aria-hidden="true" tabindex="-1"></a>customElements<span class="op">.</span><span class="fu">define</span>(<span class="st">&#39;theme-switcher&#39;</span><span class="op">,</span> ThemeSwitcher)<span class="op">;</span></span></code></pre></div>
        <p>Este componente hace algo muy simple pero poderoso: define
        nuestros temas como objetos JavaScript y luego aplica esos temas
        estableciendo variables CSS en el elemento raíz del
        documento.</p>
        <h3
        id="los-componentes-agnósticos-usando-las-variables-de-color">Los
        componentes "agnósticos": Usando las variables de color</h3>
        <p>Ahora, ¿cómo usan nuestros otros componentes estos colores?
        Fácil, simplemente hacen referencia a las variables CSS. Por
        ejemplo, un componente de botón podría verse así:</p>
        <div class="sourceCode" id="cb2"><pre
        class="sourceCode javascript"><code class="sourceCode javascript"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> MyButton <span class="kw">extends</span> <span class="bu">HTMLElement</span> {</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">constructor</span>() {</span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a>        <span class="kw">super</span>()<span class="op">;</span></span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a>        <span class="kw">this</span><span class="op">.</span><span class="fu">attachShadow</span>({<span class="dt">mode</span><span class="op">:</span> <span class="st">&#39;open&#39;</span>})<span class="op">;</span></span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a>        <span class="kw">this</span><span class="op">.</span><span class="at">shadowRoot</span><span class="op">.</span><span class="at">innerHTML</span> <span class="op">=</span> <span class="vs">`</span></span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a><span class="vs">            &lt;style&gt;</span></span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a><span class="vs">                button {</span></span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a><span class="vs">                    background-color: var(--primary-color);</span></span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a><span class="vs">                    color: var(--text-color);</span></span>
<span id="cb2-10"><a href="#cb2-10" aria-hidden="true" tabindex="-1"></a><span class="vs">                    border: none;</span></span>
<span id="cb2-11"><a href="#cb2-11" aria-hidden="true" tabindex="-1"></a><span class="vs">                    padding: 10px 20px;</span></span>
<span id="cb2-12"><a href="#cb2-12" aria-hidden="true" tabindex="-1"></a><span class="vs">                    cursor: pointer;</span></span>
<span id="cb2-13"><a href="#cb2-13" aria-hidden="true" tabindex="-1"></a><span class="vs">                }</span></span>
<span id="cb2-14"><a href="#cb2-14" aria-hidden="true" tabindex="-1"></a><span class="vs">            &lt;/style&gt;</span></span>
<span id="cb2-15"><a href="#cb2-15" aria-hidden="true" tabindex="-1"></a><span class="vs">            &lt;button&gt;&lt;slot&gt;&lt;/slot&gt;&lt;/button&gt;</span></span>
<span id="cb2-16"><a href="#cb2-16" aria-hidden="true" tabindex="-1"></a><span class="vs">        `</span><span class="op">;</span></span>
<span id="cb2-17"><a href="#cb2-17" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb2-18"><a href="#cb2-18" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb2-19"><a href="#cb2-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-20"><a href="#cb2-20" aria-hidden="true" tabindex="-1"></a>customElements<span class="op">.</span><span class="fu">define</span>(<span class="st">&#39;my-button&#39;</span><span class="op">,</span> MyButton)<span class="op">;</span></span></code></pre></div>
        <p>¿Veis cómo el botón no sabe realmente qué color es
        "–primary-color"? Solo sabe que debe usarlo para su fondo. Esto
        es lo que quiero decir con "agnóstico de color".</p>
        <p>Por el momento nada mas que colores , pero se puede extender
        a tipografía, espaciado, etc.</p>
        <p>Si estas pensando que eso hace dependiente al componente de
        las variables globales… tienes razón, pero es un compromiso que
        estoy dispuesto a aceptar por la simplicidad y eficiencia que
        ofrece. Y si quieres que el componente sea agnóstico de color,
        puedes pasarle las variables como propiedades.</p>
        <p>Defines en el componente un atributo que se llama color y lo
        usas en el componente en lugar de las variables CSS. Es una de
        tantas posibilidades, pero aquí nos centraremos solo en la base
        de la solución.</p>
        <h3 id="poniendo-todo-junto">Poniendo todo junto</h3>
        <p>Ahora, en nuestro HTML, podríamos tener algo así:</p>
        <div class="sourceCode" id="cb3"><pre
        class="sourceCode html"><code class="sourceCode html"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="dt">&lt;!DOCTYPE </span>html<span class="dt">&gt;</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a><span class="dt">&lt;</span><span class="kw">html</span><span class="ot"> lang</span><span class="op">=</span><span class="st">&quot;es&quot;</span><span class="dt">&gt;</span></span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a><span class="dt">&lt;</span><span class="kw">head</span><span class="dt">&gt;</span></span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&lt;</span><span class="kw">meta</span><span class="ot"> charset</span><span class="op">=</span><span class="st">&quot;UTF-8&quot;</span><span class="dt">&gt;</span></span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&lt;</span><span class="kw">title</span><span class="dt">&gt;</span>Mi Aplicación Temática<span class="dt">&lt;/</span><span class="kw">title</span><span class="dt">&gt;</span></span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&lt;</span><span class="kw">script</span><span class="ot"> type=</span><span class="st">&quot;module&quot;</span><span class="ot"> src</span><span class="op">=</span><span class="st">&quot;theme-switcher.js&quot;</span><span class="dt">&gt;&lt;/</span><span class="kw">script</span><span class="dt">&gt;</span></span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&lt;</span><span class="kw">script</span><span class="ot"> type=</span><span class="st">&quot;module&quot;</span><span class="ot"> src</span><span class="op">=</span><span class="st">&quot;my-button.js&quot;</span><span class="dt">&gt;&lt;/</span><span class="kw">script</span><span class="dt">&gt;</span></span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a><span class="dt">&lt;/</span><span class="kw">head</span><span class="dt">&gt;</span></span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a><span class="dt">&lt;</span><span class="kw">body</span><span class="dt">&gt;</span></span>
<span id="cb3-10"><a href="#cb3-10" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&lt;</span><span class="kw">theme-switcher</span><span class="ot"> id</span><span class="op">=</span><span class="st">&quot;themeSwitcher&quot;</span><span class="dt">&gt;&lt;/</span><span class="kw">theme-switcher</span><span class="dt">&gt;</span></span>
<span id="cb3-11"><a href="#cb3-11" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&lt;</span><span class="kw">my-button</span><span class="dt">&gt;</span>¡Haz clic!<span class="dt">&lt;/</span><span class="kw">my-button</span><span class="dt">&gt;</span></span>
<span id="cb3-12"><a href="#cb3-12" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&lt;</span><span class="kw">script</span><span class="dt">&gt;</span></span>
<span id="cb3-13"><a href="#cb3-13" aria-hidden="true" tabindex="-1"></a>        <span class="kw">const</span> switcher <span class="op">=</span> <span class="bu">document</span><span class="op">.</span><span class="fu">getElementById</span>(<span class="st">&#39;themeSwitcher&#39;</span>)<span class="op">;</span></span>
<span id="cb3-14"><a href="#cb3-14" aria-hidden="true" tabindex="-1"></a>        <span class="co">// Cambiamos al tema oscuro</span></span>
<span id="cb3-15"><a href="#cb3-15" aria-hidden="true" tabindex="-1"></a>        switcher<span class="op">.</span><span class="fu">applyTheme</span>(<span class="st">&#39;dark&#39;</span>)<span class="op">;</span></span>
<span id="cb3-16"><a href="#cb3-16" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&lt;/</span><span class="kw">script</span><span class="dt">&gt;</span></span>
<span id="cb3-17"><a href="#cb3-17" aria-hidden="true" tabindex="-1"></a><span class="dt">&lt;/</span><span class="kw">body</span><span class="dt">&gt;</span></span>
<span id="cb3-18"><a href="#cb3-18" aria-hidden="true" tabindex="-1"></a><span class="dt">&lt;/</span><span class="kw">html</span><span class="dt">&gt;</span></span></code></pre></div>
        <p>Y voilà! Tenemos una aplicación con temas cambiables, sin
        necesidad de CSS gigante, sin preprocesadores, y sin bibliotecas
        pesadas de JavaScript.</p>
        <h2 id="que-ventajas-tiene-esta-solución">Que ventajas tiene
        esta solución?</h2>
        <ol>
        <li><strong>Rendimiento</strong>: Las variables CSS son rápidas.
        Muy rápidas. Cambiar el tema es prácticamente instantáneo.</li>
        <li><strong>Mantenibilidad</strong>: Todos los colores están
        definidos en un solo lugar. ¿Necesitas cambiar un color? Solo
        tienes que hacerlo una vez.</li>
        <li><strong>Flexibilidad</strong>: Añadir nuevos temas es tan
        simple como añadir un nuevo objeto al componente
        ThemeSwitcher.</li>
        <li><strong>Compatibilidad</strong>: Esto funciona con cualquier
        framework (o sin framework). Los Web Components son estándar
        web.</li>
        <li><strong>Escalabilidad</strong>: Ya tengas 10 o 1000
        componentes, el sistema funciona igual de bien.</li>
        </ol>
        <h2
        id="reflexiones-finales-el-poder-de-pensar-diferente">Reflexiones
        finales: El poder de pensar diferente</h2>
        <p>Lo que me encanta de esta solución es cómo toma algo que
        tradicionalmente se ha visto como un problema de CSS y lo
        convierte en un problema de componentes. Es un cambio de
        perspectiva que abre nuevas posibilidades.</p>
        <p>Y lo mejor es que esto es solo el principio. Podrías expandir
        este concepto para manejar no solo colores, sino también
        tipografía, espaciado, o incluso animaciones. El cielo es el
        límite cuando empiezas a pensar en términos de componentes y
        propiedades dinámicas.</p>
        <p>Así que la próxima vez que os enfrentéis a un problema que
        parece complicado esto me recuerda que a veces, la solución más
        elegante es también la más simple. Creo que si podemos debemos
        cuestionar las convenciones y buscar nuevas formas de abordar
        esos viejos problemas.</p>
        <p>y ahora</p>
        <h2 id="próximos-pasos"><span class="todo TODO">TODO</span>
        Próximos pasos</h2>
        <ul>
        <li>Implementar una interfaz de usuario para cambiar temas ,
        done en este mismo post</li>
        <li>Explorar cómo manejar preferencias de usuario (por ejemplo,
        guardar el tema preferido en localStorage)</li>
        <li>Investigar cómo esta técnica podría aplicarse a otros
        aspectos del diseño, como la tipografía o el espaciado</li>
        <li>En el back Crear un controller especifico que use el wrapper
        PHP de pandoc para renderizar el contenido de los post en HTML ,
        ya que se guardan en texto plano formato .org</li>
        </ul>
        <p>¿Qué opináis de esta aproximación? ¿Habéis usado técnicas
        similares en vuestros proyectos? ¡Me encantaría escuchar
        vuestras experiencias dejadme un comentario !</p>
        <p>*Actualizacion: aplicacion de esta teoría.</p>
        <p>Se me ha ocurrido usar ThemeToggler en este mismo post que
        estas leyendo, se puede ?</p>
        <p>¡Y aquí es donde la magia realmente sucede! Después de todo
        nuestro trabajo en la plantilla y el diseño, hemos logrado algo
        verdaderamente emocionante: la integración perfecta de nuestro
        componente ThemeToggler en la plantilla generada por Pandoc. Os
        voy a contar cómo llegamos aquí , si es que aún no lo has visto
        en la parte superior derecha de esta página. Hasta ahora la
        plantilla de Pandoc tenia un tema "fijo" ahora eso ha cambiado,
        ahora el tema es dinámico y se puede cambiar en tiempo real.
        Puedes verlo y probarlo en la parte superior derecha de esta
        página , y a partir de ahora en toda la SPA de este blog.</p>
        <h2 id="cómo-lo-he-integrado">¿ Cómo lo he integrado ?</h2>
        <ol>
        <li><p><strong>Creación del componente</strong>: Primero,
        desarrollamos nuestro ThemeToggler como un Web Component
        independiente. Este componente encapsula toda la lógica para
        cambiar entre temas de color. <a
        href="https://github.com/pascualmg/cohete/blob/main/src/ddd/Infrastructure/webserver/html/js/atomic/organism/ThemeToogler.js">https://github.com/pascualmg/cohete/blob/main/src/ddd/Infrastructure/webserver/html/js/atomic/organism/ThemeToogler.js</a></p></li>
        <li><p><strong>Diseño de la plantilla</strong>: Luego, diseñamos
        nuestra plantilla HTML para Pandoc, incluyendo un espacio para
        nuestro ThemeToggler en el header fijo.</p></li>
        <li><p><strong>Importación del componente</strong>: En la
        plantilla, añadimos una línea para importar nuestro
        ThemeToggler:</p>
        <div class="sourceCode" id="cb4"><pre
        class="sourceCode html"><code class="sourceCode html"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="dt">&lt;</span><span class="kw">script</span><span class="ot"> type=</span><span class="st">&quot;module&quot;</span><span class="ot"> src</span><span class="op">=</span><span class="st">&quot;../../html/js/atomic/organism/ThemeToogler.js&quot;</span><span class="dt">&gt;&lt;/</span><span class="kw">script</span><span class="dt">&gt;</span></span></code></pre></div></li>
        <li><p><strong>Uso del componente</strong>: Colocamos la
        etiqueta del componente en nuestra plantilla:</p>
        <div class="sourceCode" id="cb5"><pre
        class="sourceCode html"><code class="sourceCode html"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="dt">&lt;</span><span class="kw">theme-toggler</span><span class="dt">&gt;&lt;/</span><span class="kw">theme-toggler</span><span class="dt">&gt;</span></span></code></pre></div></li>
        <li><p><strong>Generación del HTML</strong>: Finalmente, usamos
        Pandoc para generar nuestro HTML final:</p>
        <div class="sourceCode" id="cb6"><pre
        class="sourceCode bash"><code class="sourceCode bash"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="ex">pandoc</span> <span class="at">--template</span><span class="op">=</span>/home/passh/src/php/cohete/src/ddd/Infrastructure/webserver/html/org/template.html <span class="at">--toc</span> <span class="at">--toc-depth</span><span class="op">=</span>2 eltemadeltema.org <span class="at">-o</span> eltemadeltema.html</span></code></pre></div></li>
        </ol>
        <h2 id="que-permite-esto-que-hemos-conseguido">¿Que permite esto
        que hemos conseguido?</h2>
        <ol>
        <li><p><strong>Reutilización de código</strong>: Estamos
        reutilizando nuestro ThemeToggler en múltiples páginas sin tener
        que copiar y pegar código.</p></li>
        <li><p><strong>Encapsulación</strong>: Toda la lógica del cambio
        de tema está contenida en el componente, manteniendo nuestra
        plantilla limpia y fácil de mantener.</p></li>
        <li><p><strong>Nativo y ligero</strong>: Al usar Web Components
        nativos, no dependemos de frameworks pesados. Esto hace que
        nuestras páginas sean más rápidas y eficientes.</p></li>
        <li><p><strong>Compatibilidad</strong>: Los Web Components son
        compatibles con la mayoría de los navegadores modernos, lo que
        significa que nuestro ThemeToggler funcionará en casi cualquier
        lugar.</p></li>
        <li><p><strong>Flexibilidad</strong>: Podemos fácilmente
        actualizar o modificar el ThemeToggler sin tener que tocar el
        resto de nuestra plantilla o contenido.</p></li>
        </ol>
        <h2 id="conclusión">Conclusión</h2>
        <p>Los Web Components ofrecen todas estas ventajas. Además, al
        ser una tecnología nativa del navegador, se alinean
        perfectamente con mi filosofía de mantener las cosas simples y
        eficientes.</p>
        <p>La verdadera revelación vino cuando me di cuenta de que podía
        incluir este componente directamente en mi plantilla de Pandoc.
        Esto significa que cada vez que genero una nueva página de mi
        blog, automáticamente tiene la funcionalidad de cambio de tema,
        sin necesidad de código adicional.</p>
        <p>Esta integración demuestra el poder de pensar en componentes
        y de utilizar tecnologías web nativas. No solo hemos creado una
        solución elegante para el cambio de temas, sino que también
        hemos establecido un patrón que podemos seguir para futuros
        componentes.</p>
        <p>Imaginad las posibilidades: podríamos crear componentes para
        comentarios, para compartir en redes sociales, para
        visualización de datos, y más. Todos estos podrían integrarse
        fácilmente en nuestra plantilla Pandoc, permitiéndonos crear
        páginas ricas en funcionalidades con un esfuerzo mínimo.</p>
        <p>Este enfoque nos permite mantener la simplicidad y eficiencia
        de Markdown y Pandoc para el contenido, mientras aprovechamos
        toda la potencia de los Web Components para funcionalidades
        avanzadas. Es lo mejor de ambos mundos, y personalmente, estoy
        emocionado por explorar más esta dirección en el futuro.</p>
        <p>¿Qué opináis? ¿Veis otras formas en las que podríamos
        aprovechar los Web Components en nuestro flujo de trabajo con
        Pandoc?</p>

        <footer>
            <p>Autor: Pascual M.G.</p>
            
        </footer>
    </div>
</div>

<script>
    document.addEventListener('DOMContentLoaded', function () {
        const homeLink = document.getElementById('home-link');
        const currentDomain = window.location.hostname;
        if (currentDomain === 'localhost' || currentDomain === '127.0.0.1') {
            homeLink.href = '/';
        } else {
            homeLink.href = 'https://' + currentDomain;
        }
    });

    window.addEventListener('WebComponentsReady', function () {
        const themeToggler = document.querySelector('theme-toggler');
        if (themeToggler) {
            console.log('ThemeToggler cargado y listo para usar');
        }
    });
</script>
</body>
</html>